!function(n){function e(){var e=n(".inline-toggle-menu");return t(),e.each(function(){var e=n(this),t=e.find(".inline-toggle-menu__view"),o=e.find(".inline-toggle-menu__link"),l=e.find(".inline-toggle-menu__nav"),g=l.find(E),c={$root:e,$view:t,$link:o,$nav:l,$toggle:g,$toggleIcon:g.find(".toggle-icon"),closePosition:null,finishToggleAnimation:function(){i(this)},openPosition:null,toggleState:$.CLOSED};u(c),c.$toggle.on("click",function(n){a(n,c)}),n(window).resize("onResize",s),d.push(c)}),this}function t(){return c(),d=[],this}function o(){return d}function i(n){return n&&n.$nav?(n.$nav.finish(),this):(d.forEach(function(n){n.$nav.finish()}),this)}function l(n){return n.$nav.css("left",n.closePosition+"%"),n.toggleState=$.CLOSED,this}function g(n){return n.$nav.css("left",n.openPosition+"%"),n.toggleState=$.OPENED,this}function s(){var n=o();return n.forEach(function(n){u(n)}),this}function u(n){var e=n.$view.width(),t=(e-n.$nav.width())/e*100,o=(e-n.$toggle.width())/e*100;switch(n.closePosition=o,n.openPosition=t,n.finishToggleAnimation(),n.toggleState){case $.CLOSED:l(n);break;case $.OPENED:g(n)}return this}function c(){return d.forEach(function(n){n.$toggle.off("click")}),this}function a(n,e){switch(e.toggleState){case $.CLOSED:r(e);break;case $.OPENED:h(e);break;default:return}}function r(n){var e=n.$nav,t={left:n.openPosition+"%"},o={duration:400};n.toggleState=$.BUSY,o.complete=function(){f(n)},e.animate(t,o)}function f(n){n.$toggleIcon.removeClass("inline-toggle-menu-toggle-to-open").addClass("inline-toggle-menu-toggle-to-close"),n.toggleState=$.OPENED}function h(n){var e=n.$nav,t={left:n.closePosition+"%"},o={};n.toggleState=$.BUSY,o.complete=function(){v(n)},e.animate(t,o)}function v(n){n.$toggleIcon.removeClass("inline-toggle-menu-toggle-to-close").addClass("inline-toggle-menu-toggle-to-open"),n.toggleState=$.CLOSED}var d=[],E=".inline-toggle-menu__toggle",$={BUSY:"busy",CLOSED:"closed",OPENED:"opened"},S={$:n,init:e,clearMenus:t,getMenus:o,finishToggleAnimation:i,placeMenuToClosePosition:l,placeMenuToOpenPosition:g,setupAllToggleMenuPositions:s,setupToggleMenuPositions:u,toggleSelector:E,TOGGLE_STATE:$,unbind:c};return window.InlineToggleMenu=S,n(document).ready(S.init),S}(jQuery);